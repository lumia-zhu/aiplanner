# ç”¨æˆ·ä¸ªäººä¿¡æ¯é›†æˆ - ä»»åŠ¡æ¾„æ¸…åŠŸèƒ½

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

åœ¨ä»»åŠ¡æ¾„æ¸…åŠŸèƒ½ä¸­é›†æˆç”¨æˆ·ä¸ªäººä¿¡æ¯ï¼Œè®©AIèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„èƒŒæ™¯ã€æŒ‘æˆ˜å’Œä¹ æƒ¯æä¾›æ›´ä¸ªæ€§åŒ–çš„ä»»åŠ¡ç†è§£å’Œå»ºè®®ã€‚

---

## ğŸ¯ é›†æˆå†…å®¹

### ç”¨æˆ·èƒŒæ™¯ä¿¡æ¯åŒ…æ‹¬ï¼š

1. **ä¸“ä¸š** (major)
   - ç¤ºä¾‹ï¼šè®¡ç®—æœºç§‘å­¦ã€å¿ƒç†å­¦ã€ç”Ÿç‰©å­¦
   - ç”¨é€”ï¼šç†è§£ä»»åŠ¡çš„ä¸“ä¸šèƒŒæ™¯å’Œéš¾åº¦

2. **å¹´çº§** (grade)
   - ç¤ºä¾‹ï¼šæœ¬ç§‘ï¼ˆå¤§ä¸€~å¤§å››ï¼‰ã€ç¡•å£«ï¼ˆç¡•ä¸€~ç¡•ä¸‰ï¼‰ã€åšå£«ï¼ˆåšä¸€~åšäº”ï¼‰
   - ç”¨é€”ï¼šè¯„ä¼°ç”¨æˆ·çš„èƒ½åŠ›æ°´å¹³å’Œæ—¶é—´ç®¡ç†èƒ½åŠ›

3. **æŒ‘æˆ˜æ ‡ç­¾** (challenges)
   - ç¤ºä¾‹ï¼šæ‹–å»¶ã€å¤œçŒ«å­ã€å®¹æ˜“åˆ†å¿ƒã€å®Œç¾ä¸»ä¹‰
   - ç”¨é€”ï¼šè¯†åˆ«å¯èƒ½çš„éšœç¢ï¼Œæä¾›é’ˆå¯¹æ€§å»ºè®®

4. **å¸¸ç”¨å·¥ä½œåœºæ‰€** (workplaces)
   - ç¤ºä¾‹ï¼šå›¾ä¹¦é¦†ã€å’–å•¡å…ã€å®¿èˆã€å®éªŒå®¤
   - ç”¨é€”ï¼šè€ƒè™‘å·¥ä½œç¯å¢ƒå¯¹ä»»åŠ¡æ‰§è¡Œçš„å½±å“

---

## ğŸ”§ æŠ€æœ¯å®ç°

### ä¿®æ”¹çš„æ–‡ä»¶

1. **`src/lib/doubaoService.ts`**
   - ä¿®æ”¹ `clarifyTask` å‡½æ•°ç­¾åï¼Œæ·»åŠ  `userProfile` å‚æ•°
   - åœ¨ç³»ç»Ÿ prompt ä¸­åŠ¨æ€æ’å…¥ç”¨æˆ·èƒŒæ™¯ä¿¡æ¯
   - AI ä¼šæ ¹æ®ç”¨æˆ·èƒŒæ™¯ç†è§£ä»»åŠ¡

2. **`src/hooks/useWorkflowAssistant.ts`**
   - åœ¨è°ƒç”¨ `clarifyTask` æ—¶ä¼ å…¥ `userProfile`

---

## ğŸ’¡ AI Prompt ç¤ºä¾‹

### æ— ç”¨æˆ·ä¿¡æ¯æ—¶ï¼š
```
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ä»»åŠ¡ç®¡ç†åŠ©æ‰‹ã€‚ç”¨æˆ·åˆšåˆšå›ç­”äº†å…³äºä»»åŠ¡çš„æ¾„æ¸…é—®é¢˜...

â° å½“å‰æ—¶é—´å‚è€ƒï¼š2025å¹´10æœˆ23æ—¥ æ˜ŸæœŸå›› 15:30

é‡è¦è¦æ±‚ï¼š
1. ä»”ç»†åˆ†æç”¨æˆ·çš„å›ç­”...
```

### æœ‰ç”¨æˆ·ä¿¡æ¯æ—¶ï¼š
```
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ä»»åŠ¡ç®¡ç†åŠ©æ‰‹ã€‚ç”¨æˆ·åˆšåˆšå›ç­”äº†å…³äºä»»åŠ¡çš„æ¾„æ¸…é—®é¢˜...

â° å½“å‰æ—¶é—´å‚è€ƒï¼š2025å¹´10æœˆ23æ—¥ æ˜ŸæœŸå›› 15:30

ğŸ‘¤ ç”¨æˆ·èƒŒæ™¯ï¼š
ä¸“ä¸šï¼šè®¡ç®—æœºç§‘å­¦
å¹´çº§ï¼šç¡•äºŒ
æŒ‘æˆ˜ï¼šæ‹–å»¶ã€å®¹æ˜“åˆ†å¿ƒ
å¸¸ç”¨å·¥ä½œåœºæ‰€ï¼šå›¾ä¹¦é¦†ã€å’–å•¡å…

ğŸ’¡ è¯·ç»“åˆç”¨æˆ·èƒŒæ™¯ç†è§£ä»»åŠ¡ï¼Œè¯†åˆ«å¯èƒ½çš„æŒ‘æˆ˜å’Œåˆé€‚çš„æ‰§è¡Œæ–¹å¼ã€‚

é‡è¦è¦æ±‚ï¼š
1. ä»”ç»†åˆ†æç”¨æˆ·çš„å›ç­”...
```

---

## ğŸŒŸ å®é™…æ•ˆæœç¤ºä¾‹

### åœºæ™¯1ï¼šæœ‰æ‹–å»¶æŒ‘æˆ˜çš„ç”¨æˆ·

**ä»»åŠ¡**ï¼šå®Œæˆè®ºæ–‡åˆç¨¿

**ç”¨æˆ·å›ç­”**ï¼š
> è¿™ç¯‡è®ºæ–‡éœ€è¦å†™5000å­—ï¼ŒåŒ…æ‹¬æ–‡çŒ®ç»¼è¿°å’Œå®éªŒè®¾è®¡ã€‚æˆ‘æ‰“ç®—ä¸‹å‘¨å‰å®Œæˆã€‚

**AIç†è§£ï¼ˆè€ƒè™‘ç”¨æˆ·èƒŒæ™¯ï¼‰**ï¼š
```
ğŸ“‹ ä»»åŠ¡æ¦‚è¦

å®Œæˆ5000å­—è®ºæ–‡åˆç¨¿

â€¢ äº§å‡ºï¼šåŒ…å«æ–‡çŒ®ç»¼è¿°å’Œå®éªŒè®¾è®¡çš„è®ºæ–‡åˆç¨¿
â€¢ æ—¶é—´ï¼šä¸‹å‘¨å‰å®Œæˆ
â€¢ æŒ‘æˆ˜ï¼šä»»åŠ¡é‡è¾ƒå¤§ï¼Œå»ºè®®åˆ†æ®µå®Œæˆé¿å…æ‹–å»¶
```

**åˆ†æ**ï¼š
- AI æ³¨æ„åˆ°ç”¨æˆ·æœ‰"æ‹–å»¶"æ ‡ç­¾
- åœ¨"æŒ‘æˆ˜"å­—æ®µä¸­ä¸»åŠ¨æç¤º"å»ºè®®åˆ†æ®µå®Œæˆé¿å…æ‹–å»¶"
- æ›´è´´åˆç”¨æˆ·çš„å®é™…æƒ…å†µ

---

### åœºæ™¯2ï¼šå¤œçŒ«å­ç”¨æˆ·

**ä»»åŠ¡**ï¼šå‡†å¤‡ç»„ä¼šPresentation

**ç”¨æˆ·å›ç­”**ï¼š
> éœ€è¦åšä¸€ä¸ª20åˆ†é’Ÿçš„å±•ç¤ºï¼Œä¸»è¦è®²æˆ‘æœ€è¿‘çš„ç ”ç©¶è¿›å±•ã€‚æ˜å¤©ä¸‹åˆè¦ç”¨ã€‚

**AIç†è§£ï¼ˆè€ƒè™‘ç”¨æˆ·èƒŒæ™¯ï¼‰**ï¼š
```
ğŸ“‹ ä»»åŠ¡æ¦‚è¦

å‡†å¤‡20åˆ†é’Ÿçš„ç ”ç©¶è¿›å±•å±•ç¤º

â€¢ äº§å‡ºï¼šç»„ä¼šPresentation
â€¢ æ—¶é—´ï¼šæ˜å¤©ä¸‹åˆå‰å®Œæˆ
â€¢ æŒ‘æˆ˜ï¼šæ—¶é—´ç´§è¿«ï¼Œå»ºè®®ä»Šæ™šé›†ä¸­å‡†å¤‡
```

**åˆ†æ**ï¼š
- AI çŸ¥é“ç”¨æˆ·æ˜¯"å¤œçŒ«å­"
- å»ºè®®"ä»Šæ™šé›†ä¸­å‡†å¤‡"ï¼Œç¬¦åˆç”¨æˆ·çš„ä½œæ¯ä¹ æƒ¯
- æ›´å®ç”¨çš„æ—¶é—´å®‰æ’å»ºè®®

---

### åœºæ™¯3ï¼šå®¹æ˜“åˆ†å¿ƒçš„ç”¨æˆ·

**ä»»åŠ¡**ï¼šé˜…è¯»10ç¯‡è®ºæ–‡

**ç”¨æˆ·å›ç­”**ï¼š
> éœ€è¦é˜…è¯»10ç¯‡å…³äºæ·±åº¦å­¦ä¹ çš„è®ºæ–‡ï¼Œåšæ–‡çŒ®ç»¼è¿°ã€‚è¿™å‘¨å†…è¦å®Œæˆã€‚

**AIç†è§£ï¼ˆè€ƒè™‘ç”¨æˆ·èƒŒæ™¯ï¼‰**ï¼š
```
ğŸ“‹ ä»»åŠ¡æ¦‚è¦

é˜…è¯»10ç¯‡æ·±åº¦å­¦ä¹ è®ºæ–‡å¹¶åšæ–‡çŒ®ç»¼è¿°

â€¢ äº§å‡ºï¼šæ–‡çŒ®ç»¼è¿°æŠ¥å‘Š
â€¢ æ—¶é—´ï¼šæœ¬å‘¨å†…å®Œæˆ
â€¢ ä¾èµ–ï¼š10ç¯‡è®ºæ–‡èµ„æ–™
â€¢ æŒ‘æˆ˜ï¼šé˜…è¯»é‡å¤§ï¼Œå»ºè®®åœ¨å›¾ä¹¦é¦†ç­‰ä¸“æ³¨ç¯å¢ƒå®Œæˆ
```

**åˆ†æ**ï¼š
- AI æ³¨æ„åˆ°ç”¨æˆ·"å®¹æ˜“åˆ†å¿ƒ"ä¸”å¸¸åœ¨"å›¾ä¹¦é¦†"å·¥ä½œ
- ä¸»åŠ¨å»ºè®®"åœ¨å›¾ä¹¦é¦†ç­‰ä¸“æ³¨ç¯å¢ƒå®Œæˆ"
- ç»“åˆç”¨æˆ·çš„æŒ‘æˆ˜å’Œä¹ æƒ¯ç»™å‡ºå»ºè®®

---

## ğŸ“Š å¯¹æ¯”æ•ˆæœ

| ç»´åº¦ | æ— ç”¨æˆ·ä¿¡æ¯ | æœ‰ç”¨æˆ·ä¿¡æ¯ |
|------|-----------|-----------|
| **ä¸ªæ€§åŒ–ç¨‹åº¦** | â­â­ é€šç”¨å»ºè®® | â­â­â­â­â­ é’ˆå¯¹æ€§å»ºè®® |
| **æŒ‘æˆ˜è¯†åˆ«** | âŒ æ— æ³•é¢„åˆ¤ | âœ… ä¸»åŠ¨è¯†åˆ«æ½œåœ¨éšœç¢ |
| **æ—¶é—´å»ºè®®** | â­â­ æ ‡å‡†å»ºè®® | â­â­â­â­ ç¬¦åˆç”¨æˆ·ä¹ æƒ¯ |
| **ç¯å¢ƒå»ºè®®** | âŒ ä¸æä¾› | âœ… æ¨èåˆé€‚å·¥ä½œåœºæ‰€ |
| **ç”¨æˆ·ä½“éªŒ** | â­â­â­ åŸºç¡€åŠŸèƒ½ | â­â­â­â­â­ è´´å¿ƒåŠ©æ‰‹ |

---

## ğŸš€ æœªæ¥æ‰©å±•æ–¹å‘

### 1. é—®é¢˜ç”Ÿæˆä¸ªæ€§åŒ–ï¼ˆæœªå®ç°ï¼‰
æ ¹æ®ç”¨æˆ·èƒŒæ™¯ç”Ÿæˆæ›´é’ˆå¯¹æ€§çš„æ¾„æ¸…é—®é¢˜

### 2. ä»»åŠ¡æ‹†è§£ä¸ªæ€§åŒ–ï¼ˆæœªå®ç°ï¼‰
æ ¹æ®ç”¨æˆ·èƒ½åŠ›æ°´å¹³è°ƒæ•´æ‹†è§£ç²’åº¦

### 3. æ—¶é—´ä¼°ç®—ä¸ªæ€§åŒ–ï¼ˆå·²å®ç°ï¼‰
æ ¹æ®ç”¨æˆ·å†å²æ•°æ®è°ƒæ•´æ—¶é—´ä¼°ç®—

### 4. ä¼˜å…ˆçº§å»ºè®®ä¸ªæ€§åŒ–ï¼ˆæœªå®ç°ï¼‰
æ ¹æ®ç”¨æˆ·çš„æŒ‘æˆ˜å’Œç›®æ ‡æ¨èä¼˜å…ˆçº§

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### å‰ææ¡ä»¶
ç”¨æˆ·éœ€è¦å…ˆåœ¨ä¸ªäººè®¾ç½®ä¸­å¡«å†™ä¸ªäººä¿¡æ¯ï¼š
- ä¸“ä¸š
- å¹´çº§
- æŒ‘æˆ˜æ ‡ç­¾
- å¸¸ç”¨å·¥ä½œåœºæ‰€

### è‡ªåŠ¨ç”Ÿæ•ˆ
ä¸€æ—¦ç”¨æˆ·å¡«å†™äº†ä¸ªäººä¿¡æ¯ï¼Œä»»åŠ¡æ¾„æ¸…åŠŸèƒ½ä¼šè‡ªåŠ¨ä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

### éšç§è¯´æ˜
- ç”¨æˆ·ä¸ªäººä¿¡æ¯ä»…ç”¨äºæä¾›ä¸ªæ€§åŒ–æœåŠ¡
- ä¸ä¼šä¸ç¬¬ä¸‰æ–¹åˆ†äº«
- ç”¨æˆ·å¯éšæ—¶ä¿®æ”¹æˆ–åˆ é™¤ä¸ªäººä¿¡æ¯

---

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### ä»£ç ä½ç½®

**`src/lib/doubaoService.ts`** (ç¬¬511-526è¡Œ)
```typescript
// æ„å»ºç”¨æˆ·èƒŒæ™¯ä¿¡æ¯
let userContextInfo = ''
if (userProfile) {
  const contextParts: string[] = []
  if (userProfile.major) contextParts.push(`ä¸“ä¸šï¼š${userProfile.major}`)
  if (userProfile.grade) contextParts.push(`å¹´çº§ï¼š${userProfile.grade}`)
  if (userProfile.challenges && userProfile.challenges.length > 0) {
    contextParts.push(`æŒ‘æˆ˜ï¼š${userProfile.challenges.join('ã€')}`)
  }
  if (userProfile.workplaces && userProfile.workplaces.length > 0) {
    contextParts.push(`å¸¸ç”¨å·¥ä½œåœºæ‰€ï¼š${userProfile.workplaces.join('ã€')}`)
  }
  if (contextParts.length > 0) {
    userContextInfo = `\n\nğŸ‘¤ ç”¨æˆ·èƒŒæ™¯ï¼š\n${contextParts.join('\n')}\n\nğŸ’¡ è¯·ç»“åˆç”¨æˆ·èƒŒæ™¯ç†è§£ä»»åŠ¡ï¼Œè¯†åˆ«å¯èƒ½çš„æŒ‘æˆ˜å’Œåˆé€‚çš„æ‰§è¡Œæ–¹å¼ã€‚`
  }
}
```

### å‡½æ•°ç­¾å

**ä¿®æ”¹å‰**ï¼š
```typescript
async clarifyTask(
  taskTitle: string,
  taskDescription: string | undefined,
  questions: Array<{ dimension: string; question: string; purpose: string }>,
  userAnswer: string
)
```

**ä¿®æ”¹å**ï¼š
```typescript
async clarifyTask(
  taskTitle: string,
  taskDescription: string | undefined,
  questions: Array<{ dimension: string; question: string; purpose: string }>,
  userAnswer: string,
  userProfile?: { major?: string; grade?: string; challenges?: string[]; workplaces?: string[] } | null
)
```

---

## ç‰ˆæœ¬ä¿¡æ¯
- å®ç°æ—¥æœŸï¼š2025-10-23
- å½±å“èŒƒå›´ï¼šä»»åŠ¡æ¾„æ¸…åŠŸèƒ½
- ç ´åæ€§å˜æ›´ï¼šæ— ï¼ˆå‘åå…¼å®¹ï¼‰
- ä¾èµ–ï¼šç”¨æˆ·ä¸ªäººèµ„æ–™è¡¨ (`user_profiles`)

